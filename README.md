# Jina AI Linker 

![Jina AI Linker 插件预览](images/1.png)
![Jina AI Linker 插件预览](images/2.png)
![Jina AI Linker 插件预览](images/3.png)

## 功能介绍

Jina AI Linker是一个强大的Obsidian插件，专为知识库管理而设计。通过利用Jina AI的先进嵌入技术和DeepSeek的智能评分能力，实现笔记之间的智能链接推荐，帮助你在知识间建立更有意义的连接。

### 核心功能

- **AI智能链接推荐**：分析笔记内容，自动推荐相关度高的笔记链接
- **嵌入向量相似度匹配**：利用Jina AI技术计算笔记内容的语义相似度
- **智能评分过滤**：使用DeepSeek AI对候选链接进行智能打分，筛选最相关的链接
- **链接自动插入**：在笔记中自动插入高质量的建议链接，减少手动工作
- **内容哈希追踪**：通过内容哈希检测笔记变更，智能更新链接建议

## 安装方法


1. 从[GitHub Releases](https://github.com/eacheat53/Jina-AI-Linker/releases)下载最新版本
2. 将压缩包解压到您的Obsidian仓库的`.obsidian/plugins/`目录下
3. 在Obsidian中启用插件

## 使用方法

### 前提条件

1. 安装Python（3.8或更高版本）
2. 获取[Jina AI API密钥](https://jina.ai)（必需）
3. 获取[DeepSeek API密钥](https://deepseek.ai)（可选，用于AI智能评分）

### 基本使用流程

1. 在Obsidian仓库中创建并编写笔记
2. 在每篇需要处理的笔记中添加哈希边界标记`<!-- HASH_BOUNDARY -->`（建议搭配Templater模板自动创建使用）
3. 点击Obsidian左侧栏中的Jina Linker图标
4. 选择"处理笔记并插入建议链接"
5. 在弹出的对话框中选择需要处理的文件夹和AI评分模式
6. 等待处理完成（大型仓库可能需要一些时间）
7. 查看笔记中自动插入的建议链接

### 哈希边界标记

哈希边界标记`<!-- HASH_BOUNDARY -->`用于界定笔记的有效内容范围。此标记之前的内容会被用于生成嵌入和计算哈希，之后的内容（包括建议链接）不会被处理。建议将此标记放在笔记主体内容的末尾处。

示例：
```markdown
---
title: 示例笔记
date: 2023-01-01
---

# 示例笔记

这是笔记的主体内容，会被用于生成嵌入和计算哈希。

<!-- HASH_BOUNDARY -->

## 建议链接
<!-- LINKS_START -->
- [[相关笔记1]]
- [[相关笔记2]]
<!-- LINKS_END -->

## 备注
<!-- HASH_BOUNDARY -->之后内容不会被用于生成嵌入和计算哈希。
```

### 命令

- **处理笔记并插入建议链接**：扫描仓库中的笔记，生成嵌入，计算相似度，进行AI评分，并在笔记中插入建议链接
- **计算笔记内容哈希值**：计算单个笔记的内容哈希值（诊断用）
- **更新嵌入数据中的笔记哈希值**：更新指定笔记在嵌入文件中的哈希值（小幅度改动或只改变换行不影响语义，不想使用Jina API 重新嵌入数据处理）

## 设置选项

### 基本设置

- **Python解释器路径**：Python可执行文件的路径或命令

### API密钥

- **Jina API密钥**：用于生成文本嵌入向量
- **DeepSeek API密钥**：用于AI对候选链接进行智能评分（可选）

### Python脚本处理参数

- **排除的文件夹**：处理时要排除的文件夹名称
- **排除的文件模式**：处理时要排除的文件名模式
- **Jina相似度阈值**：笔记间相似度的最小阈值（0.0-1.0）

### 高级模型与内容参数

- **Jina模型名称**：用于生成嵌入的模型
- **Jina嵌入最大字符数**：传递给Jina API的最大字符数
- **DeepSeek模型名称**：用于AI评分的模型
- **AI评分内容最大长度**：传递给DeepSeek API的最大字符数
- **每源笔记送交AI评分的最大候选链接数**：每个源笔记最多评分的候选数

### 链接插入与哈希设置

- **链接插入的最小AI分数**：只有达到此分数的候选链接才会被插入
- **每个笔记最多插入的链接数**：每篇笔记最多插入的建议链接数量

## 常见问题

### 为什么我的笔记没有生成建议链接？

- 检查笔记是否位于排除的文件夹内或匹配排除的文件模式
- 笔记是否添加哈希边界标记`<!-- HASH_BOUNDARY -->`
- 确认仓库中有足够的相关笔记可以建立链接关系
- 尝试调低相似度阈值试试

### 如何提高建议链接的质量？

- 适当提高"链接插入的最小AI分数"阈值
- 调整相似度阈值以筛选初始候选链接
- 在笔记中提供更多上下文信息

### 插件生成的文件占用空间大吗？

插件生成的嵌入文件会随着仓库笔记数量的增加而增大。对于几百篇笔记的仓库，嵌入文件通常在几MB左右。

## 隐私说明

- 笔记内容会通过API发送给Jina AI和DeepSeek（如配置）进行处理
- 所有数据处理结果均存储在本地，不会上传到其他服务器
- 请查阅[Jina AI隐私政策](https://jina.ai/privacy)和[DeepSeek隐私政策](https://deepseek.ai/privacy)了解更多信息

## 反馈与贡献

有问题、建议或想要贡献代码？欢迎：

- [提交Issue](https://github.com/eacheat53/Jina-AI-Linker/issues)
- [创建Pull Request](https://github.comeacheat53/Jina-AI-Linker/pulls) 
